(function(A){A.extend({History:{_hash:new Array(),_cont:undefined,_currentHash:"",_callback:undefined,init:function(D,B){A.History._cont=D;A.History._callback=B;var E=location.hash.replace(/\?.*$/,"");A.History._currentHash=E;if(A.browser.msie){if(A.History._currentHash==""){A.History._currentHash="#"}A("body").append('<iframe id="jQuery_history" style="display: none;" src="about:blank"></iframe>');var F=A("#jQuery_history")[0];var C=F.contentDocument||F.contentWindow.document;C.open();C.close();C.location.hash=E}if(A.isFunction(this._callback)){A.History._callback(E.skipChar("#"))}setInterval(A.History._historyCheck,100)},_historyCheck:function(){var D="";if(A.browser.msie){var B=A("#jQuery_history")[0];var C=B.contentWindow;D=C.location.hash.skipChar("#").replace(/\?.*$/,"")}else{D=location.hash.skipChar("#").replace(/\?.*$/,"")}if(D!=A.History._currentHash){A.History._currentHash=D;A.History.loadHistory(D)}},addHistory:function(F,D,G){A.History._currentHash=F;var E=[F,D,G];A.History._hash.push(E);if(A.browser.msie){var B=A("#jQuery_history")[0];var C=B.contentDocument||B.contentWindow.document;C.open();C.close();C.location.hash=F.replace(/\?.*$/,"");location.hash=F.replace(/\?.*$/,"")}else{location.hash=F.replace(/\?.*$/,"")}},loadHistory:function(C){if(A.browser.msie){location.hash=C}for(var B=0;B<A.History._hash.length;B+=1){if(A.History._hash[B][0]==C){A.History._hash[B][1](A.History._hash[B][2]);return}}}}})})(jQuery);