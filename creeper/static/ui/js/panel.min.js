(function(A){A.extend(A.fn,{jPanel:function(C){var B=A.extend({header:"panelHeader",headerC:"panelHeaderContent",content:"panelContent",coll:"collapsable",exp:"expandable",footer:"panelFooter",footerC:"panelFooterContent"},C);return this.each(function(){var L=A(this);var G=L.hasClass("close");var I=L.hasClass("collapse");var F=A(">div",L).addClass(B.content);var K=A(">h1",L).wrap('<div class="'+B.header+'"><div class="'+B.headerC+'"></div></div>');if(I){A('<a href=""></a>').addClass(G?B.exp:B.coll).insertAfter(K)}var M=A(">div:first",L);var E=A('<div class="'+B.footer+'"><div class="'+B.footerC+'"></div></div>').appendTo(L);var D=L.attr("defH")?L.attr("defH"):0;var J=L.attr("minH")?L.attr("minH"):0;if(G){F.css({height:"0px",display:"none"})}else{if(D>0){F.height(D+"px")}else{if(J>0){F.css("minHeight",J+"px")}}}if(!I){return}var H=A("a",M);var N=F.innerHeight()-6;if(J>0&&J>=N){D=J}else{D=N}H.click(function(){if(H.hasClass(B.exp)){F.jBlindDown({to:D,call:function(){H.removeClass(B.exp).addClass(B.coll);if(J>0){F.css("minHeight",J+"px")}}})}else{if(J>0){F.css("minHeight","")}if(J>=N){F.css("height",J+"px")}F.jBlindUp({call:function(){H.removeClass(B.coll).addClass(B.exp)}})}return false})})}})})(jQuery);