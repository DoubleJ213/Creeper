$.setRegional("alertMsg",{title:{error:"Error",info:"Information",warn:"Warning",correct:"Successful",confirm:"Confirmation"},butMsg:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"}});var alertMsg={_boxId:"#alertMsgBox",_bgId:"#alertBackground",_closeTimer:null,_types:{error:"error",info:"info",warn:"warn",correct:"correct",confirm:"confirm"},_getTitle:function(A){return $.regional.alertMsg.title[A]},_keydownOk:function(A){if(A.keyCode==DWZ.keyCode.ENTER){A.data.target.trigger("click")}return false},_keydownEsc:function(A){if(A.keyCode==DWZ.keyCode.ESC){A.data.target.trigger("click")}},_open:function(G,B,H){if($("#progressBar")){$("#progressBar").css("display","none")}if($("#background")){$("#background").css("display","none")}$(this._boxId).remove();var C="";if(H){for(var E=0;E<H.length;E++){var D=H[E].call?"callback":"";C+=DWZ.frag["alertButFrag"].replace("#butMsg#",H[E].name).replace("#callback#",D)}}var A=DWZ.frag["alertBoxFrag"].replace("#type#",G).replace("#title#",this._getTitle(G)).replace("#message#",B).replace("#butFragment#",C);$(A).appendTo("body").css({top:-$(this._boxId).height()+"px"}).animate({top:"0px"},500);if(this._closeTimer){clearTimeout(this._closeTimer);this._closeTimer=null}if(this._types.info==G||this._types.correct==G){this._closeTimer=setTimeout(function(){alertMsg.close()},3500)}else{$(this._bgId).show()}$('<input type="text" style="width:0;height:0;" name="_alertFocusCtr"/>').appendTo(this._boxId).focus().hide();var J=$(this._boxId).find("a.button");var F=J.filter("[rel=callback]");var I=$(document);for(var E=0;E<H.length;E++){if(H[E].call){F.eq(E).click(H[E].call)}if(H[E].keyCode==DWZ.keyCode.ENTER){I.bind("keydown",{target:J.eq(E)},this._keydownOk)}if(H[E].keyCode==DWZ.keyCode.ESC){I.bind("keydown",{target:J.eq(E)},this._keydownEsc)}}},close:function(){$(document).unbind("keydown",this._keydownOk).unbind("keydown",this._keydownEsc);$(this._boxId).animate({top:-$(this._boxId).height()},500,function(){$(this).remove()});$(this._bgId).hide()},error:function(B,A){this._alert(this._types.error,B,A)},info:function(B,A){this._alert(this._types.info,B,A)},warn:function(B,A){this._alert(this._types.warn,B,A)},correct:function(B,A){this._alert(this._types.correct,B,A)},_alert:function(A,E,C){var B={okName:$.regional.alertMsg.butMsg.ok,okCall:null};$.extend(B,C);var D=[{name:B.okName,call:B.okCall,keyCode:DWZ.keyCode.ENTER}];this._open(A,E,D)},confirm:function(D,B){var A={okName:$.regional.alertMsg.butMsg.ok,okCall:null,cancelName:$.regional.alertMsg.butMsg.cancel,cancelCall:null};$.extend(A,B);var C=[{name:A.okName,call:A.okCall,keyCode:DWZ.keyCode.ENTER},{name:A.cancelName,call:A.cancelCall,keyCode:DWZ.keyCode.ESC}];this._open(this._types.confirm,D,C)}};