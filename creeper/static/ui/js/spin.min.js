(function(M,K,L){function O(U,T){var R=K.createElement(U||"div"),S;for(S in T){R[S]=T[S]}return R}function E(T){for(var R=1,S=arguments.length;R<S;R++){T.appendChild(arguments[R])}return T}function C(X,V,W,Z){var Y=["opacity",V,~~(X*100),W,Z].join("-"),T=0.01+W/Z*100,R=Math.max(1-(1-X)/V*(100-T),X),S=N.substring(0,N.indexOf("Animation")).toLowerCase(),U=S&&"-"+S+"-"||"";return Q[Y]||(F.insertRule("@"+U+"keyframes "+Y+"{0%{opacity:"+R+"}"+T+"%{opacity:"+X+"}"+(T+0.01)+"%{opacity:1}"+(T+V)%100+"%{opacity:"+X+"}100%{opacity:"+R+"}}",0),Q[Y]=1),Y}function D(U,T){var S=U.style,V,R;if(S[T]!==L){return T}T=T.charAt(0).toUpperCase()+T.slice(1);for(R=0;R<P.length;R++){V=P[R]+T;if(S[V]!==L){return V}}}function I(T,R){for(var S in R){T.style[D(T,S)||S]=R[S]}return T}function J(U){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var S in R){U[S]===L&&(U[S]=R[S])}}return U}function G(S){var R={x:S.offsetLeft,y:S.offsetTop};while(S=S.offsetParent){R.x+=S.offsetLeft,R.y+=S.offsetTop}return R}var P=["webkit","Moz","ms","O"],Q={},N,F=function(){var R=O("style");return E(K.getElementsByTagName("head")[0],R),R.sheet||R.styleSheet}(),H={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"},A=function B(R){if(!this.spin){return new B(R)}this.opts=J(R||{},B.defaults,H)};A.defaults={},J(A.prototype,{spin:function(l){this.stop();var f=this,g=f.opts,n=f.el=I(O(0,{className:g.className}),{position:"relative",zIndex:g.zIndex}),R=g.radius+g.length+g.width,W,X;l&&(l.insertBefore(n,l.firstChild||null),X=G(l),W=G(n),I(n,{left:(g.left=="auto"?X.x-W.x+(l.offsetWidth>>1):g.left+R)+"px",top:(g.top=="auto"?X.y-W.y+(l.offsetHeight>>1):g.top+R)+"px"})),n.setAttribute("aria-role","progressbar"),f.lines(n,f.opts);if(!N){var U=0,V=g.fps,Z=V/g.speed,Y=(1-g.opacity)/(Z*g.trail/100),S=Z/g.lines;!function T(){U++;for(var c=g.lines;c;c--){var b=Math.max(1-(U+c*S)%Z*Y,g.opacity);f.opacity(n,g.lines-c,b,g)}f.timeout=f.el&&setTimeout(T,~~(1000/V))}()}return f},stop:function(){var R=this.el;return R&&(clearTimeout(this.timeout),R.parentNode&&R.parentNode.removeChild(R),this.el=L),this},lines:function(V,T){function S(X,W){return I(O(),{position:"absolute",width:T.length+T.width+"px",height:T.width+"px",background:X,boxShadow:W,transformOrigin:"left",transform:"rotate("+~~(360/T.lines*U+T.rotate)+"deg) translate("+T.radius+"px,0)",borderRadius:(T.width>>1)+"px"})}var U=0,R;for(;U<T.lines;U++){R=I(O(),{position:"absolute",top:1+~(T.width/2)+"px",transform:T.hwaccel?"translate3d(0,0,0)":"",opacity:T.opacity,animation:N&&C(T.opacity,T.trail,U,T.lines)+" "+1/T.speed+"s linear infinite"}),T.shadow&&E(R,I(S("#000","0 0 4px #000"),{top:"2px"})),E(V,E(R,S(T.color,"0 0 1px rgba(0,0,0,.1)")))}return V},opacity:function(T,R,S){R<T.childNodes.length&&(T.childNodes[R].style.opacity=S)}}),!function(){function S(U,T){return O("<"+U+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',T)}var R=I(O("group"),{behavior:"url(#default#VML)"});!D(R,"transform")&&R.adj?(F.addRule(".spin-vml","behavior:url(#default#VML)"),A.prototype.lines=function(X,Y){function Z(){return I(S("group",{coordsize:T+" "+T,coordorigin:-h+" "+-h}),{width:T,height:T})}function V(f,d,c){E(W,E(I(Z(),{rotation:360/Y.lines*f+"deg",left:~~d}),E(I(S("roundrect",{arcsize:1}),{width:h,height:Y.width,left:Y.radius,top:-Y.width>>1,filter:c}),S("fill",{color:Y.color,opacity:Y.opacity}),S("stroke",{opacity:0}))))}var h=Y.length+Y.width,T=2*h,a=-(Y.width+Y.length)*2+"px",W=I(Z(),{position:"absolute",top:a,left:a}),U;if(Y.shadow){for(U=1;U<=Y.lines;U++){V(U,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(U=1;U<=Y.lines;U++){V(U)}return E(X,W)},A.prototype.opacity=function(X,V,W,T){var U=X.firstChild;T=T.shadow&&T.lines||0,U&&V+T<U.childNodes.length&&(U=U.childNodes[V+T],U=U&&U.firstChild,U=U&&U.firstChild,U&&(U.opacity=W))}):N=D(R,"animation")}(),M.Spinner=A})(window,document);