(function(A){A.fn.cssv=function(B){var C=A(this).css(B);return C.substring(0,C.indexOf("px"))*1};A.fn.jBar=function(C){var B=A.extend({container:"#container",collapse:".collapse",toggleBut:".toggleCollapse div",sideBar:"#sidebar",sideBar2:"#sidebar_s",splitBar:"#splitBar",splitBar2:"#splitBarProxy"},C);return this.each(function(){var D=this;var F=A(B.sideBar2,D);var E=A(B.sideBar,D);A(B.toggleBut,E).click(function(){DWZ.ui.sbar=false;A(B.splitBar).hide();var J=F.cssv("left")+F.outerWidth();var G=J-E.outerWidth();var I=A(B.container).cssv("left")-(E.outerWidth()-F.outerWidth());var H=E.outerWidth()-F.outerWidth()+A(B.container).outerWidth();A(B.container).animate({left:I,width:H},50,function(){E.animate({left:G},500,function(){E.hide();F.show().css("left",-50).animate({left:5},200);A(window).trigger(DWZ.eventType.resizeGrid)})});A(B.collapse,F).click(function(){var L=F.cssv("left")+F.outerWidth();if(E.is(":hidden")){A(B.toggleBut,E).hide();E.show().animate({left:L},500);A(B.container).click(K)}else{E.animate({left:G},500,function(){E.hide()})}function K(){A(B.container).unbind("click",K);if(!DWZ.ui.sbar){E.animate({left:G},500,function(){E.hide()})}}return false});return false});A(B.toggleBut,F).click(function(){DWZ.ui.sbar=true;F.animate({left:-25},200,function(){E.show()});E.animate({left:5},800,function(){A(B.splitBar).show();A(B.toggleBut,E).show();var H=5+E.outerWidth()+A(B.splitBar).outerWidth();var G=A(B.container).outerWidth()-(H-A(B.container).cssv("left"));A(B.container).css({left:H,width:G});A(B.collapse,F).unbind("click");A(window).trigger(DWZ.eventType.resizeGrid)});return false});A(B.splitBar).mousedown(function(G){A(B.splitBar2).each(function(){var H=A(this);setTimeout(function(){H.show()},100);H.css({visibility:"visible",left:A(B.splitBar).css("left")});H.jDrag(A.extend(C,{obj:A("#sidebar"),move:"horizontal",event:G,stop:function(){A(this).css("visibility","hidden");var K=A(this).cssv("left")-A(B.splitBar).cssv("left");var L=E.outerWidth()+K;var I=A(B.container).cssv("left")+K;var J=A(B.container).outerWidth()-K;E.css("width",L);A(B.splitBar).css("left",A(this).css("left"));A(B.container).css({left:I,width:J})}}));return false})})})}})(jQuery);